{"version":3,"sources":["UserLoginProcess.js","UserRegisterProcess.js","LoginFunction.js","UserAccessProcess.js","CreateRuleProcess.js","SetRuleProcess.js","AddRuleConsequentProcess.js","AddRuleAntecedentProcess.js","ViewRules.js","ViewAntecedents.js","ViewConsequents.js","DeviceAntecedentPopUp.js","RegisterDeviceProcess.js","DeviceConsequentPopUp.js","App.js","Main.js","index.js"],"names":["UserLoginProcess","props","setUserName","userName","setState","render","setPassword","password","state","Modal","show","this","userLoginPopUp","onHide","handleLoginPopUp","Header","closeButton","Title","Body","name","htmlFor","type","id","onChange","e","handleCheckUserLoginCorrect","NewName","target","value","style","display","checkUserLoginCorrect","Footer","onClick","UserLoginRequest","React","Component","UserRegisterProcess","checkuserNameFunction","newName","checkuserName","userNameList","some","username","userRegisterPopUp","handleRegisterPopUp","length","UserRegistrationRequest","dotenv","config","Login","setUser","firebase","apps","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","user_name","user","idToken","credential","catch","error","errorMessage","message","console","log","UserAccessProcess","GetUserNameList","axios","get","process","res","data","err","warn","url","userId","redirect","check","className","variant","handleGoogleSignIn","to","CreateRuleProcess","checkCreateNewRule","ruleName","rules","rule","AddRulePopUp","handleAddRulePopUp","checkCreateRuleFunction","createRuleRequest","SetRuleProcess","checkRuleNameFunction","checkRuleName","updateRuleName","update","updateName","ruleBody","classButtonRuleSelection","setRulePopUp","handleSetRulePopUp","AntecedentRulePopUpBody","modify","defaultValue","newRuleName","modifyRuleName","newRuleIdx","evaluation","ConsequentRulePopUpBody","RuleBody","newRuleId","deleteRuleConsequentRequest","deleteRuleAntecedentRequest","setNewRuleCondition","setNewStartValue","setNewStopValue","RuleFooter","handleAddRuleConsequentPopUp","handleAddRuleAntecedentPopUp","ruleIdx","antecedent","map","setRuleAntecedentRequest","consequent","setRuleConsequentRequest","handleModify","deleteRuleRequest","RuleConsequentDetails","RuleAntecedentDetails","consequents","idx","element","if_value","else_value","visibility","device_id","antecedents","element_idx","SetRuleCondition","condition","SetStartValueRuleAntecedent","start_value","SetStopValueRuleAntecedent","stop_value","oldCondition","elementId","oldValue","includes","SetStartValueTimer","min","max","step","SetStopValueTimer","AddRuleConsequentProcess","addRuleConsequentPopUp","AddRuleConsequentDevice","setConsequentRuleLocal","i","consequentRule","consequentsId","item","c","newConsequent","AddRuleAntecedentProcess","addRuleAntecedentPopUp","AddRuleAntecedentsDevice","setAntecedentRuleLocal","antecedentRule","antecedentsId","newAntecedent","ViewRules","ItemList","setNewRule","getRuleById","ruleIdList","index","indexOf","ViewAntecedents","handleDeviceAntecedentPopUp","setNewAntecedent","getAntecedentById","deviceIdList","ViewConsequents","handleDeviceConsequentPopUp","setNewConsequent","getConsequentById","DeviceAntecedentPopUp","checkDeviceNameFunction","devices","checkDeviceName","device","antecedentIdx","rulesName","rulesId","rulesIdList","ruleId","ruleIndex","GetRulesName","deviceAntecedentPopUp","modifyDevice","antecedentName","checkName","modifyAntecedentName","DeviceDetails","antecedentId","modifyAntecedentSetting","getDeviceMeasureRequest","updateDeviceRequest","handleModifyDevice","deleteDeviceRequest","deviceId","today","Date","time","getHours","getMinutes","getSeconds","setting","parseInt","measure_perc","measure","toFixed","ModifySetting","newSetting","RegisterDeviceProcess","registerDeviceError","newDeviceId","deviceRecognition","registerDevicePopUp","handleRegisterDevicePopUp","NewDeviceIdRegistration","CheckRegisterDeviceRecognition","newDevice","registerDeviceRequest","deviceInitialization","DeviceConsequentPopUp","consequentIdx","deviceConsequentPopUp","consequentName","modifyConsequentName","consequentId","App","getAllDeviceIdRegistered","allDeviceId","getAntecedents","params","user_id","getConsequents","getRules","newRule","newMeasure","rule_name","post","newRulesList","concat","rule_id","device_name","registerNewDeviceLocal","newAntecedents","newIndex","newConsequents","delete","NewRules","splice","deleteRuleConsequentLocal","idx_rule","idx_consequent","deleteRuleAntecedentLocal","idx_antecedent","rulesList","push","newCondition","newStart","newStop","antecendents","handleMenuPopUp","menuPopUp","handleLogOut","logout","defaults","headers","common","ButtonMenu","base_url","Main","PrivateRoute","path","query","URLSearchParams","useLocation","search","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.ce22e043.chunk.js","sourcesContent":["import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\n\r\nexport default class UserLoginProcess extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userName: \"\",\r\n            password: \"\"\r\n        }\r\n    }\r\n\r\n    setUserName = (userName) => {\r\n        this.setState({ userName: userName }, () => { this.render() })\r\n    }\r\n    setPassword = (password) => {\r\n        this.setState({ password: password }, () => { this.render() })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal show={this.props.userLoginPopUp} onHide={() => this.props.handleLoginPopUp()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>\r\n                        \"LOGIN\"\r\n                        </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <div>\r\n                        <form name=\"login\">\r\n                            <label htmlFor=\"name\">User Name: </label>\r\n                            <input type=\"text\" id=\"name\" name=\"name\"\r\n                                onChange={(e) => {\r\n                                    this.props.handleCheckUserLoginCorrect(true);\r\n                                    const NewName = e.target.value;\r\n                                    this.setUserName(NewName)\r\n                                }}\r\n                            />\r\n                            <br></br>\r\n                            <label htmlFor=\"password\">Password: </label>\r\n                            <input type=\"text\" id=\"password\" name=\"password\"\r\n                                onChange={(e) => {\r\n                                    this.props.handleCheckUserLoginCorrect(true);\r\n                                    const password = e.target.value;\r\n                                    this.setPassword(password)\r\n                                }}\r\n                            />\r\n                        </form>\r\n                    </div>\r\n                    <div>\r\n                        <p style={{ display: this.props.checkUserLoginCorrect ? 'none' : 'block' }}> Error: User Name or Password are not correct!</p>\r\n                    </div>\r\n\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <div>\r\n                        <button onClick={() => {\r\n                            this.props.UserLoginRequest(this.state.userName, this.state.password);\r\n                        }}>\r\n                            LOGIN\r\n                        </button>\r\n                    </div>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\n\r\nexport default class UserRegisterProcess extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            checkuserName: false,\r\n            userName: \"\",\r\n            password:\"\"\r\n        }\r\n    }\r\n\r\n    setUserName = (userName) => {\r\n        this.setState({ userName: userName }, () => { this.render() })\r\n    }\r\n    setPassword = (password) => {\r\n        this.setState({ password: password }, () => { this.render() })\r\n    }\r\n\r\n    checkuserNameFunction = (newName) => {\r\n        const userNameList = this.props.userNameList;\r\n        var checkuserName = false;\r\n        if (userNameList.some(username => username === newName)) {\r\n            checkuserName = true;\r\n        }\r\n        this.setState({\r\n            checkuserName: checkuserName\r\n        }, () => { this.render() });\r\n\r\n        return checkuserName\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal show={this.props.userRegisterPopUp} onHide={() => this.props.handleRegisterPopUp()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>\r\n                        \"REGISTER\"\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <div>\r\n                        <form name=\"login\">\r\n                            <label htmlFor=\"name\">User Name: </label>\r\n                            <input type=\"text\" id=\"name\" name=\"name\"\r\n                                onChange={(e) => {\r\n                                    const NewName = e.target.value;\r\n                                    var check = this.checkuserNameFunction(NewName);\r\n                                    if (!check) {\r\n                                        this.setUserName(NewName)\r\n                                    }\r\n                                }} />\r\n                            <br></br>\r\n                            <label htmlFor=\"password\">Password: </label>\r\n                            <input type=\"text\" id=\"password\" name=\"password\"\r\n                                onChange={(e) => {\r\n                                    const password = e.target.value;\r\n                                    this.setPassword(password)\r\n                                }} />\r\n                        </form>\r\n                    </div>\r\n                    <div>\r\n                        <p style={{ display: this.state.checkuserName ? 'block' : 'none' }}> Error: User Name already exist. Choose another name!</p>\r\n                    </div>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <div>\r\n                        <button onClick={() => {\r\n                            if (!this.state.checkuserName && this.state.userName.length > 1 && this.state.password.length > 1) {\r\n                                this.props.UserRegistrationRequest(this.state.userName, this.state.password);\r\n                            }\r\n                        }}>\r\n                            REGISTER\r\n                        </button>\r\n                    </div>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        )\r\n    }\r\n}","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport dotenv from 'dotenv'\r\ndotenv.config()\r\n\r\n\r\n\r\nconst Login = (setUser) => {\r\n    const firebaseConfig = {\r\n        apiKey: \"AIzaSyDYKT4i-17UPlgaiojouyHNv1sA_svhkjM\",\r\n        authDomain: \"you-rule-iot.firebaseapp.com\",\r\n        projectId: \"you-rule-iot\",\r\n        storageBucket: \"you-rule-iot.appspot.com\",\r\n        messagingSenderId: \"645027876603\",\r\n        appId: \"1:645027876603:web:2bfb86a6f5eb91b19d6a5e\"\r\n      };\r\n\r\n    \r\n    if (firebase.apps.length === 0) {\r\n        firebase.initializeApp(firebaseConfig);\r\n    }\r\n\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    firebase.auth()\r\n        .signInWithPopup(provider)\r\n        .then((result) => {\r\n            var user_name = result.user[\"displayName\"];\r\n            var idToken = result.credential['idToken'];\r\n            setUser(user_name, idToken);\r\n        })\r\n        .catch((error) => {\r\n            const errorMessage = error.message;\r\n            console.log(errorMessage);\r\n        });\r\n\r\n}\r\n\r\nexport default Login;\r\n\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport UserLoginProcess from './UserLoginProcess'\r\nimport UserRegisterProcess from './UserRegisterProcess'\r\nimport { Redirect } from 'react-router-dom';\r\nimport Login from './LoginFunction'\r\n\r\n\r\n\r\nexport default class UserAccessProcess extends React.Component {\r\n    constructor(props) {\r\n        \r\n        super(props);\r\n        this.state = {\r\n            userNameList: [],\r\n            userLoginPopUp: false,\r\n            userRegisterPopUp: false,\r\n            userName: \"\",\r\n            password: \"\",\r\n            redirect: \"\",\r\n            checkUserLoginCorrect: true,\r\n            idToken: \"\",\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.GetUserNameList();\r\n    }\r\n\r\n    GetUserNameList = () => {\r\n        console.log(\"UserAccess GET user name list\");\r\n        const url = process.env.REACT_APP_BACKEND_URL + \"/user/names\";\r\n        axios.get(url)\r\n            .then(res => {\r\n                const userNameList = res.data;\r\n                console.log(\"user name list:\", userNameList)\r\n                this.setState({ userNameList: userNameList }, () => { this.render() })\r\n            })\r\n            .catch(err => console.warn(err));\r\n    }\r\n\r\n    UserLoginRequest = (user_name, password) => {\r\n        console.log(\"UserAccess GET login\")\r\n        const url = process.env.REACT_APP_BACKEND_URL + \"/user/login/\" + user_name + \"/\" + password;;\r\n        axios.get(url)\r\n            .then(res => {\r\n                const userId = res.data;\r\n                console.log(\"user name:\", user_name)\r\n                console.log(\"user id:\", userId)\r\n                if (userId !== \"false\") {\r\n                    this.handleLoginPopUp();\r\n                    this.setState({ redirect: process.env.REACT_APP_PROTECTED_URL + '?user_id=' + userId + '&user_name=' + user_name }, () => { this.render() })\r\n                }\r\n                else {\r\n                    this.handleCheckUserLoginCorrect(false);\r\n                }\r\n            })\r\n            .catch(err => console.warn(err));\r\n    }\r\n\r\n    \r\n\r\n    UserRegistrationRequest = (user_name, password) => {\r\n        console.log(\"UserAccess POST registration\")\r\n        const url = process.env.REACT_APP_BACKEND_URL + \"/user/registration/\" + user_name + \"/\" + password;\r\n        console.log(\"debug user_name \", user_name)\r\n        axios.get(url)\r\n            .then(res => {\r\n                const userId = res.data;\r\n                this.handleRegisterPopUp();\r\n                this.setState({ redirect: process.env.REACT_APP_PROTECTED_URL + '?user_id=' + userId + '&user_name=' + user_name }, () => { this.render() })\r\n            })\r\n            .catch(err => console.warn(err));\r\n    }\r\n\r\n    handleCheckUserLoginCorrect = (check) => {\r\n        this.setState({ checkUserLoginCorrect: check });\r\n    }\r\n\r\n\r\n\r\n    handleLoginPopUp = () => {\r\n        this.setState({ userLoginPopUp: !this.state.userLoginPopUp })\r\n    }\r\n    handleRegisterPopUp = () => {\r\n        this.GetUserNameList();\r\n        this.setState({ userRegisterPopUp: !this.state.userRegisterPopUp })\r\n    }\r\n\r\n    setUser = (userName, idToken)=>{\r\n        this.setState({\r\n            userName: userName,\r\n            idToken: idToken,\r\n            redirect: process.env.REACT_APP_PROTECTED_URL + '?userName=' + userName + '&idToken=' + idToken\r\n        })\r\n        console.log(\"redirect\")\r\n    }\r\n\r\n    render() {\r\n        if (this.state.redirect === \"\") {\r\n            return (\r\n                <div className=\"App\">\r\n                    <div className=\"TopBar\">\r\n                        <div className=\"TopBarElement\">\r\n                            WELCOME PORTAL\r\n                        </div>\r\n                        <div className=\"TopBarElement\">\r\n                            <button variant=\"primary\" onClick={() => { Login(this.setUser) }}>LOGIN</button>\r\n                        </div>\r\n                        <div className=\"TopBarElement\">\r\n                            <button variant=\"primary\" onClick={() => { this.handleRegisterPopUp() }}>REGISTER</button>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <UserLoginProcess\r\n                            userLoginPopUp={this.state.userLoginPopUp}\r\n                            handleLoginPopUp={this.handleLoginPopUp}\r\n                            handleCheckUserLoginCorrect={this.handleCheckUserLoginCorrect}\r\n                            checkUserLoginCorrect={this.state.checkUserLoginCorrect}\r\n                            UserLoginRequest={this.UserLoginRequest}\r\n                            handleGoogleSignIn={this.handleGoogleSignIn}\r\n                        />\r\n                        <UserRegisterProcess\r\n                            userRegisterPopUp={this.state.userRegisterPopUp}\r\n                            handleRegisterPopUp={this.handleRegisterPopUp}\r\n                            userNameList={this.state.userNameList}\r\n                            UserRegistrationRequest={this.UserRegistrationRequest}\r\n\r\n                        />\r\n\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n                <Redirect to={this.state.redirect} />\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\n\r\nexport default class CreateRuleProcess extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      checkCreateNewRule: false,\r\n      ruleName : \"\",\r\n    }\r\n\r\n  }\r\n\r\n  checkCreateRuleFunction(rules, ruleName) {\r\n    if (rules.some(rule => rule.name === ruleName)) {\r\n      this.setState({\r\n        checkCreateNewRule: true\r\n      })\r\n    }\r\n    else {\r\n      this.setState({\r\n        checkCreateNewRule: false,\r\n        ruleName: ruleName\r\n      })\r\n    }\r\n  }\r\n\r\n  \r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal show={this.props.AddRulePopUp} onHide={() => this.props.handleAddRulePopUp()}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>ADD RULE</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <div className=\"GenericModalBody\">\r\n              <p style={{ display: this.state.checkCreateNewRule ? 'block' : 'none' }}> Error: rule name already exist! Choose another name.</p>\r\n              <form>\r\n                <label htmlFor=\"ruleName\">RULE NAME: </label>\r\n                <input name=\"ruleName\" id=\"ruleName\" type=\"text\"\r\n                  onChange={(e) => {\r\n                    const ruleName = e.target.value;\r\n                    this.checkCreateRuleFunction(this.props.rules, ruleName);\r\n                  }}\r\n                />\r\n              </form>\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <button onClick={() => {\r\n              if (!this.state.checkCreateNewRule) {\r\n                const ruleName = this.state.ruleName\r\n                this.props.createRuleRequest(ruleName);\r\n              }\r\n            }}>\r\n              NEXT\r\n                </button>\r\n            <button onClick={() => this.props.handleAddRulePopUp()}>Close</button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div >)\r\n  }\r\n\r\n}","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\n\r\nexport default class SetRuleProcess extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ruleBody: false,\r\n            checkRuleName: false,\r\n            updateName: false,\r\n            classButtonRuleSelection: \"AntecedentRuleSelection\"\r\n        }\r\n    }\r\n\r\n\r\n\r\n    AntecedentRulePopUpBody() {\r\n        this.setState({ ruleBody: false, classButtonRuleSelection: \"AntecedentRuleSelection\" })\r\n    }\r\n    ConsequentRulePopUpBody() {\r\n        this.setState({ ruleBody: true, classButtonRuleSelection: \"ConsequentRuleSelection\" })\r\n    }\r\n\r\n    checkRuleNameFunction = (rules, ruleName) => {\r\n        var checkRuleName = false;\r\n        if (rules.some(rule => rule.name === ruleName)) {\r\n            checkRuleName = true;\r\n        }\r\n        this.setState({\r\n            checkRuleName: checkRuleName\r\n        }, () => { this.render() });\r\n\r\n        return checkRuleName\r\n    }\r\n\r\n    updateRuleName = (update) => {\r\n        this.setState({ updateName: update })\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.props.rules.length > 0) {\r\n            return (\r\n                <div className=\"SetRulePopUp\">\r\n                    <Modal show={this.props.setRulePopUp} onHide={() => { this.props.handleSetRulePopUp(); this.AntecedentRulePopUpBody() }}>\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title>\r\n                                <div>\r\n                                    <p style={{ display: this.state.checkRuleName ? 'block' : 'none' }}> Error: rule name already exist! Choose another name.</p>\r\n                                    {this.props.modify ? ModifyNewRuleName(this.props, this.checkRuleNameFunction, this.updateRuleName) : \"Rule name: \" + this.props.newRuleName}\r\n                                </div>\r\n                                <div className=\"RuleEvaliation\">\r\n                                    Evaluation: {this.props.rules[this.props.newRuleIdx].evaluation}\r\n                                </div>\r\n                                <div className=\"RuleSectionButton\">\r\n                                    <button className={this.state.classButtonRuleSelection} type=\"button\" id=\"ruleAntecedentButton\" onClick={() => { this.AntecedentRulePopUpBody() }}>ANTECEDENT</button>\r\n                                    <button className={this.state.classButtonRuleSelection} id=\"ruleConsequentButton\" onClick={() => { this.ConsequentRulePopUpBody() }}>CONSEQUENT</button>\r\n                                </div>\r\n                            </Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            <RuleBody\r\n                                ruleBody={this.state.ruleBody}\r\n                                rules={this.props.rules}\r\n                                newRuleId={this.props.newRuleId}\r\n                                newRuleIdx={this.props.newRuleIdx}\r\n                                deleteRuleConsequentRequest={this.props.deleteRuleConsequentRequest}\r\n                                deleteRuleAntecedentRequest={this.props.deleteRuleAntecedentRequest}\r\n                                modify={this.props.modify}\r\n                                setNewRuleCondition={this.props.setNewRuleCondition}\r\n                                setNewStartValue={this.props.setNewStartValue}\r\n                                setNewStopValue={this.props.setNewStopValue}\r\n                            />\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <RuleFooter\r\n                                ruleBody={this.state.ruleBody}\r\n                                modify={this.props.modify}\r\n                                handleSetRulePopUp={this.props.handleSetRulePopUp}\r\n                                handleAddRuleConsequentPopUp={this.props.handleAddRuleConsequentPopUp}\r\n                                handleAddRuleAntecedentPopUp={this.props.handleAddRuleAntecedentPopUp}\r\n                            />\r\n                            <button onClick={() => {\r\n                                if (this.props.modify) {\r\n                                    const ruleIdx = this.props.newRuleIdx;\r\n                                    const rule = this.props.rules[ruleIdx]\r\n                                    if (this.state.updateName) {\r\n                                        this.updateRuleName(false);\r\n                                        this.props.updateRuleName();\r\n                                    }\r\n                                    rule.antecedent.map(antecedent => {\r\n                                        this.props.setRuleAntecedentRequest(antecedent);\r\n                                        return null;\r\n                                    });\r\n                                    rule.consequent.map(consequent => {\r\n                                        this.props.setRuleConsequentRequest(consequent);\r\n                                        return null;\r\n                                    });\r\n                                    this.props.handleModify();\r\n                                }\r\n                                else {\r\n                                    this.props.handleModify();\r\n                                }\r\n\r\n                            }}>\r\n                                {this.props.modify ? 'Save' : 'Modify'}\r\n                            </button>\r\n                            <button onClick={() => {\r\n                                if (this.props.modify) {\r\n                                    this.props.handleModify();\r\n                                    this.props.handleSetRulePopUp();\r\n                                    this.AntecedentRulePopUpBody();\r\n                                    this.props.deleteRuleRequest(this.props.newRuleId, this.props.newRuleIdx);\r\n                                } else {\r\n                                    this.AntecedentRulePopUpBody();\r\n                                    this.props.handleSetRulePopUp();\r\n                                }\r\n                            }}>\r\n                                {this.props.modify ? 'Delete' : 'Close'}\r\n                            </button>\r\n                        </Modal.Footer>\r\n                    </Modal>\r\n                </div >\r\n            )\r\n        } else {\r\n            return (\r\n                <div>\r\n\r\n                </div>\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\n\r\nfunction ModifyNewRuleName(props, checkRuleNameFunction, updateRuleName) {\r\n    return (\r\n        <form name=\"ItemName\">\r\n            <label htmlFor=\"name\">Rule: </label>\r\n            <input type=\"text\" id=\"name\" name=\"name\"\r\n                defaultValue={props.newRuleName}\r\n                onChange={(e) => {\r\n                    const NewName = e.target.value;\r\n                    var checkRuleName = checkRuleNameFunction(props.rules, NewName)\r\n                    updateRuleName(true)\r\n                    if (!checkRuleName) {\r\n                        props.modifyRuleName(NewName)\r\n                    }\r\n                }}\r\n            />\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nfunction RuleBody(props) {\r\n    if (props.ruleBody) {\r\n        return (\r\n            <div className=\"RuleConsequentDetail\">\r\n                <div>\r\n                    <table id=\"rule\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>DEVICE</th>\r\n                                <th>IF</th>\r\n                                <th>ELSE</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <RuleConsequentDetails\r\n                                rules={props.rules}\r\n                                newRuleId={props.newRuleId}\r\n                                newRuleIdx={props.newRuleIdx}\r\n                                deleteRuleConsequentRequest={props.deleteRuleConsequentRequest}\r\n                                modify={props.modify}\r\n\r\n                            />\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n            <div className=\"RuleAntecedentDetail\">\r\n                <div>\r\n                    <table id=\"rule\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>DEVICE</th>\r\n                                <th>CONDITION</th>\r\n                                <th>START</th>\r\n                                <th>STOP</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <RuleAntecedentDetails\r\n                                rules={props.rules}\r\n                                newRuleId={props.newRuleId}\r\n                                newRuleIdx={props.newRuleIdx}\r\n                                deleteRuleAntecedentRequest={props.deleteRuleAntecedentRequest}\r\n                                modify={props.modify}\r\n                                setNewRuleCondition={props.setNewRuleCondition}\r\n                                setNewStartValue={props.setNewStartValue}\r\n                                setNewStopValue={props.setNewStopValue}\r\n                            />\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction RuleConsequentDetails(props) {\r\n    const ruleIdx = props.newRuleIdx;\r\n    const consequents = props.rules[ruleIdx].consequent;\r\n    var idx = -1;\r\n    return (consequents.map(element => {\r\n        idx++;\r\n        return (\r\n            <tr key={idx}>\r\n                <td>{element.name}</td>\r\n                <td>{element.if_value}</td>\r\n                <td>{element.else_value}</td>\r\n                <td className=\"deleteRuleRow\" style={{ visibility: props.modify ? 'visible' : 'hidden' }}>\r\n                    <button onClick={() => {\r\n                        props.deleteRuleConsequentRequest(props.newRuleId, element.device_id);\r\n                    }}>\r\n                        delete\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        )\r\n    })\r\n    )\r\n}\r\n\r\nfunction RuleAntecedentDetails(props) {\r\n    const ruleIdx = props.newRuleIdx;\r\n    const antecedents = props.rules[ruleIdx].antecedent;\r\n    var element_idx = -1;\r\n    return (antecedents.map(element => {\r\n        element_idx++;\r\n        return (\r\n            <tr key={element_idx}>\r\n                <td>{element.name}</td>\r\n                <td>{props.modify ? SetRuleCondition(props, element_idx, element.condition) : element.condition}</td>\r\n                <td>{props.modify ? SetStartValueRuleAntecedent(props, element.device_id, element_idx, element.start_value) : element.start_value}</td>\r\n                <td>{props.modify ? SetStopValueRuleAntecedent(props, element.device_id, element_idx, element) : element.stop_value}</td>\r\n                <td className=\"deleteRuleRow\" style={{ visibility: props.modify ? 'visible' : 'hidden' }}>\r\n                    <button onClick={() => { props.deleteRuleAntecedentRequest(props.newRuleId, element.device_id); }}>\r\n                        delete\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        )\r\n    })\r\n    )\r\n}\r\n\r\nfunction RuleFooter(props) {\r\n    if (props.ruleBody) {\r\n        return (\r\n            <button style={{ display: props.modify ? 'block' : 'none' }}\r\n                onClick={() => {\r\n                    props.handleSetRulePopUp();\r\n                    props.handleAddRuleConsequentPopUp();\r\n                }}>\r\n                Add Consequent\r\n            </button>\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n            <button style={{ display: props.modify ? 'block' : 'none' }}\r\n                onClick={() => {\r\n                    props.handleSetRulePopUp();\r\n                    props.handleAddRuleAntecedentPopUp();\r\n                }}>\r\n                Add Antecedent\r\n            </button>\r\n        )\r\n    }\r\n}\r\n\r\nfunction SetRuleCondition(props, element_idx, oldCondition) {\r\n    return (\r\n        <form name=\"ruleCondition\">\r\n            <select name=\"condition\"\r\n                id=\"condition\"\r\n                defaultValue={oldCondition}\r\n                onChange={(e) => {\r\n                    props.setNewRuleCondition(props.newRuleIdx, element_idx, e.target.value)\r\n                }}>\r\n                <option value=\">\">{'>'}</option>\r\n                <option value=\"<\">{'<'}</option>\r\n                <option value=\"between\">'between'</option>\r\n            </select>\r\n        </form>\r\n    )\r\n}\r\n\r\nfunction SetStartValueRuleAntecedent(props, elementId, element_idx, oldValue) {\r\n    if (elementId.includes(\"timer\")) {\r\n        return SetStartValueTimer(props, element_idx, oldValue)\r\n    }\r\n    else {\r\n        return (\r\n            <form name=\"ruleAntecedentStartValue\">\r\n                <input id=\"StartValue\"\r\n                    name=\"StartValue\"\r\n                    type=\"number\"\r\n                    min=\"1\"\r\n                    max=\"100\"\r\n                    step=\"5\"\r\n                    defaultValue={oldValue}\r\n                    onChange={(e) => {\r\n                        if (e.target.value > 100) {\r\n                            e.target.value = 100;\r\n                        }\r\n                        else if (e.target.value < 0) {\r\n                            e.target.value = 0;\r\n                        }\r\n                        props.setNewStartValue(props.newRuleIdx, element_idx, e.target.value);\r\n                    }}\r\n                />\r\n            </form>\r\n        )\r\n\r\n    }\r\n\r\n}\r\n\r\nfunction SetStopValueRuleAntecedent(props, elementId, element_idx, antecedent) {\r\n    if (elementId.includes(\"timer\")) {\r\n        return SetStopValueTimer(props, element_idx, antecedent)\r\n    }\r\n    else {\r\n        const condition = antecedent.condition;\r\n        if (condition === \"between\") {\r\n            return (\r\n                <form name=\"ruleAntecedentStopValue\">\r\n                    <input id=\"StopValue\"\r\n                        name=\"StopValue\"\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        max=\"100\"\r\n                        step=\"5\"\r\n                        defaultValue={antecedent.stop_value}\r\n                        onChange={(e) => {\r\n                            if (e.target.value > 100) {\r\n                                e.target.value = 100;\r\n                            }\r\n                            else if (e.target.value < 0) {\r\n                                e.target.value = 0;\r\n                            }\r\n                            props.setNewStopValue(props.newRuleIdx, element_idx, e.target.value);\r\n                        }}\r\n                    />\r\n                </form>\r\n            )\r\n        }\r\n        else {\r\n            return (<div>{antecedent.stop_value}</div>)\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction SetStartValueTimer(props, element_idx, oldValue) {\r\n    return (\r\n        <form name=\"ruleAntecedentStartValue\">\r\n            <input id=\"time_start\"\r\n                name=\"time_start\"\r\n                type=\"time\"\r\n                defaultValue={oldValue}\r\n                onChange={(e) => {\r\n                    props.setNewStartValue(props.newRuleIdx, element_idx, e.target.value);\r\n                }}\r\n            />\r\n        </form>\r\n    )\r\n}\r\n\r\nfunction SetStopValueTimer(props, element_idx, antecedent) {\r\n    if (antecedent.condition === \"between\") {\r\n        return (\r\n            <form name=\"ruleAntecedentStopValue\">\r\n                <input id=\"time_stop\"\r\n                    name=\"time_stop\"\r\n                    type=\"time\"\r\n                    defaultValue={antecedent.stop_value}\r\n                    onChange={(e) => {\r\n                        props.setNewStopValue(props.newRuleIdx, element_idx, e.target.value);\r\n                    }}\r\n                />\r\n            </form>\r\n        )\r\n    }\r\n    else {\r\n        return (<div>{antecedent.stop_value}</div>)\r\n    }\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\n\r\nexport default class AddRuleConsequentProcess extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.addRuleConsequentPopUp}\r\n                    onHide={() => {\r\n                        this.props.handleAddRuleConsequentPopUp();\r\n                        this.props.handleSetRulePopUp();\r\n                    }}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>\r\n                            <div>SWITCHES</div>\r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"GenericModalBody\">\r\n                            <table>\r\n                                <tbody>\r\n                                    <AddRuleConsequentDevice\r\n                                        newRuleIdx={this.props.newRuleIdx}\r\n                                        rules={this.props.rules}\r\n                                        consequents={this.props.consequents}\r\n                                        setConsequentRuleLocal={this.props.setConsequentRuleLocal}\r\n                                    />\r\n                                </tbody>\r\n                            </table>\r\n\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <button onClick={() => {\r\n                            this.props.handleAddRuleConsequentPopUp();\r\n                            this.props.handleSetRulePopUp();\r\n                        }}>\r\n                            Close\r\n                        </button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction AddRuleConsequentDevice(props) {\r\n    var i = -1;\r\n    const ruleIdx = props.newRuleIdx;\r\n    const consequentRule = props.rules[ruleIdx].consequent;\r\n    var consequentsId = [];\r\n    if (consequentRule.length > 0) {\r\n        consequentsId = consequentRule.map(item => {\r\n            return (item.device_id)\r\n        })\r\n    }\r\n\r\n    return (\r\n        props.consequents.map(item => {\r\n            if (!consequentsId.some(c => c === item.id)) {\r\n                i++;\r\n                return (\r\n                    <tr key={i}>\r\n                        <td>\r\n                            <button onClick={() => {\r\n                                const newConsequent = { device_id: item.id, name: item.name, if_value: \"on\", else_value: \"off\" };\r\n                                props.setConsequentRuleLocal(props.newRuleIdx, newConsequent);\r\n                            }}>\r\n                                {item.name}\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                )\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        })\r\n    )\r\n}","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\n\r\nexport default class AddRuleAntecedentProcess extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.addRuleAntecedentPopUp}\r\n                    onHide={() => {\r\n                        this.props.handleAddRuleAntecedentPopUp();\r\n                        this.props.handleSetRulePopUp();\r\n                    }}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>\r\n                            <div>SENSORS</div>\r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"GenericModalBody\">\r\n                            <table>\r\n                                <tbody>\r\n                                    <AddRuleAntecedentsDevice\r\n                                        newRuleIdx={this.props.newRuleIdx}\r\n                                        rules={this.props.rules}\r\n                                        antecedents={this.props.antecedents}\r\n                                        setAntecedentRuleLocal={this.props.setAntecedentRuleLocal}\r\n                                    />\r\n                                </tbody>\r\n                            </table>\r\n\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <button onClick={() => {\r\n                            this.props.handleAddRuleAntecedentPopUp();\r\n                            this.props.handleSetRulePopUp();\r\n                        }}>\r\n                            Close\r\n                        </button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction AddRuleAntecedentsDevice(props) {\r\n    var i = -1;\r\n    const ruleIdx = props.newRuleIdx;\r\n    const antecedentRule = props.rules[ruleIdx].antecedent;\r\n    var antecedentsId = [];\r\n    if (antecedentRule.length > 0) {\r\n        antecedentsId = antecedentRule.map(item => {\r\n            return (item.device_id)\r\n        })\r\n    }\r\n\r\n    return (\r\n        props.antecedents.map(item => {\r\n            if (!antecedentsId.some(c => c === item.id)) {\r\n                i++;\r\n                return (\r\n                    <tr key={i}>\r\n                        <td>\r\n                            <button onClick={() => {\r\n                                var newAntecedent = { device_id: item.id, name: item.name, start_value: \"0\", stop_value: \"0\", condition: \"between\" };\r\n                                if (item.id.includes(\"timer\")) {\r\n                                    newAntecedent.start_value=\"00:00\";\r\n                                    newAntecedent.stop_value=\"00:00\"\r\n                                }\r\n                                props.setAntecedentRuleLocal(props.newRuleIdx, newAntecedent);\r\n                            }}>\r\n                                {item.name}\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                )\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        })\r\n    )\r\n}","import React from 'react';\r\n\r\n\r\n\r\nexport default function ViewRules(props) {\r\n    return (\r\n        <div className=\"RuleContainer\">\r\n            <div className=\"MyList\">\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>\r\n                                RULE ENGINE\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <ItemList\r\n                            handleSetRulePopUp={props.handleSetRulePopUp}\r\n                            setNewRule={props.setNewRule}\r\n                            rules={props.rules}\r\n                            getRuleById={props.getRuleById}\r\n                        />\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nfunction ItemList(props) {\r\n    if (props.rules.length > 0) {\r\n        const ruleIdList = props.rules.map(rule => { return rule.id })\r\n        return (\r\n            props.rules.map(rule => {\r\n                var index = ruleIdList.indexOf(rule.id)\r\n                return (\r\n                    <tr key={index}>\r\n                        <td>\r\n                            <div>\r\n                                <button variant=\"primary\" onClick={() => {\r\n                                    props.getRuleById(rule.id);\r\n                                    props.setNewRule(rule.id, rule.name, index);\r\n                                    props.handleSetRulePopUp();\r\n                                }}>\r\n                                    {rule.name}\r\n                                </button>\r\n                            </div >\r\n                        </td>\r\n                    </tr>\r\n                )\r\n            })\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <tr key={0}>\r\n                <td>\r\n                    \r\n                </td>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n","import React from 'react';\r\n\r\n\r\nexport default function ViewAntecedents(props) {\r\n    return (\r\n        <div className=\"AntecedentContainer\">\r\n            <div className=\"MyList\">\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>\r\n                                SENSORS\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <ItemList\r\n                            antecedents={props.antecedents}\r\n                            handleDeviceAntecedentPopUp={props.handleDeviceAntecedentPopUp}\r\n                            setNewAntecedent={props.setNewAntecedent}\r\n                            getAntecedentById={props.getAntecedentById}\r\n                        />\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ItemList(props) {\r\n    if (props.antecedents.length > 0) {\r\n        const deviceIdList = props.antecedents.map(antecedent => { return antecedent.id });\r\n        return (\r\n            props.antecedents.map(antecedent => {\r\n                var index = deviceIdList.indexOf(antecedent.id)\r\n                return (\r\n                    <tr key={index}>\r\n                        <td>\r\n                            <div>\r\n                                <button variant=\"primary\" onClick={() => {\r\n                                    props.getAntecedentById(antecedent.id);\r\n                                    props.setNewAntecedent(antecedent.id, antecedent.name, index);\r\n                                    props.handleDeviceAntecedentPopUp();\r\n                                }}>\r\n                                    {antecedent.name}\r\n                                </button>\r\n                            </div >\r\n                        </td>\r\n                    </tr>\r\n                )\r\n            })\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <tr key={0}>\r\n                <td>\r\n\r\n                </td>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n","import React from 'react';\r\n\r\n\r\n\r\nexport default function ViewConsequents(props) {\r\n    return (\r\n        <div className=\"ConsequentContainer\">\r\n            <div className=\"MyList\">\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>\r\n                                SWITCHES\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <ItemList\r\n                            consequents={props.consequents}\r\n                            handleDeviceConsequentPopUp={props.handleDeviceConsequentPopUp}\r\n                            setNewConsequent={props.setNewConsequent}\r\n                            getConsequentById={props.getConsequentById}\r\n                        />\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ItemList(props) {\r\n    if (props.consequents.length > 0) {\r\n        const deviceIdList = props.consequents.map(consequent => { return consequent.id });\r\n        return (\r\n            props.consequents.map(consequent => {\r\n                var index = deviceIdList.indexOf(consequent.id)\r\n                return (\r\n                    <tr key={index}>\r\n                        <td>\r\n                            <div>\r\n                                <button variant=\"primary\" onClick={() => {\r\n                                    props.getConsequentById(consequent.id);\r\n                                    props.setNewConsequent(consequent.id, consequent.name, index);\r\n                                    props.handleDeviceConsequentPopUp();\r\n                                }}>\r\n                                    {consequent.name}\r\n                                </button>\r\n                            </div >\r\n                        </td>\r\n                    </tr>\r\n                )\r\n            })\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <tr key={0}>\r\n                <td>\r\n                    \r\n                </td>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n}","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nexport default class DeviceAntecedentPopUp extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            checkDeviceName: false\r\n        }\r\n    }\r\n\r\n    checkDeviceNameFunction = (devices, newName) => {\r\n        var checkDeviceName = false;\r\n        if (devices.some(device => device.name === newName)) {\r\n            checkDeviceName = true;\r\n        }\r\n        this.setState({\r\n            checkDeviceName: checkDeviceName\r\n        }, () => { this.render() });\r\n\r\n        return checkDeviceName\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.props.antecedents.length > 0) {\r\n            const index = this.props.antecedentIdx;\r\n            const rulesName = GetRulesName(this.props);\r\n            return (\r\n                <Modal show={this.props.deviceAntecedentPopUp} onHide={() => this.props.handleDeviceAntecedentPopUp()}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>\r\n                            <p style={{ display: this.state.checkDeviceName ? 'block' : 'none' }}> Error: device name already exist! Choose another name.</p>\r\n                            {this.props.modifyDevice ? ModifyName(this.props, this.checkDeviceNameFunction) : this.props.antecedentName}\r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div>\r\n                            <DeviceDetails\r\n                                antecedentIdx={this.props.antecedentIdx}\r\n                                antecedentId={this.props.antecedentId}\r\n                                antecedentName={this.props.antecedentName}\r\n                                antecedents={this.props.antecedents}\r\n                                index={index}\r\n                                rulesName={rulesName}\r\n                                modifyAntecedentName={this.props.modifyAntecedentName}\r\n                                modifyAntecedentSetting={this.props.modifyAntecedentSetting}\r\n                                modifyDevice={this.props.modifyDevice}\r\n                            />\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <button onClick={() => {\r\n                            this.props.getDeviceMeasureRequest(\"antecedent\");\r\n                        }}>\r\n                            Refresh\r\n                        </button>\r\n                        <button onClick={() => {\r\n                            if (this.props.modifyDevice) {\r\n                                this.props.updateDeviceRequest(\"antecedent\");\r\n                                this.props.handleModifyDevice();\r\n                            }\r\n                            else {\r\n                                this.props.handleModifyDevice();\r\n                            }\r\n                        }\r\n                        }>\r\n                            {this.props.modifyDevice ? 'Save' : 'Modify'}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => {\r\n                                if (this.props.modifyDevice) {\r\n                                    this.props.handleModifyDevice();\r\n                                    this.props.handleDeviceAntecedentPopUp();\r\n                                    this.props.deleteDeviceRequest(\"antecedent\");\r\n                                }\r\n                                else {\r\n                                    this.props.handleDeviceAntecedentPopUp();\r\n                                }\r\n\r\n                            }}>\r\n                            {this.props.modifyDevice ? 'Delete' : 'Close'}\r\n                        </button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            )\r\n        }\r\n        else {\r\n            return (<div></div>)\r\n        }\r\n    }\r\n}\r\n\r\nfunction GetRulesName(props) {\r\n    const index = props.antecedentIdx;\r\n    const rulesId = props.antecedents[index].rules;\r\n    try {\r\n        const rulesId = props.antecedents[index].rules;\r\n        const rules = props.rules;\r\n        if (rulesId.length > 0 && rules.length > 0) {\r\n            const rulesIdList = rules.map(rule => { return rule.id });\r\n            const rulesNameList = rulesId.map(ruleId => {\r\n                var ruleIndex = rulesIdList.indexOf(ruleId);\r\n                return (<li key={ruleId}><button onClick={() => {\r\n                    props.setNewRule(ruleId, rules[ruleIndex].name, ruleIndex);\r\n                    props.handleDeviceAntecedentPopUp();\r\n                    props.handleSetRulePopUp();\r\n                }}>\r\n                    {rules[ruleIndex].name}\r\n                </button>\r\n                </li>)\r\n            })\r\n            return (rulesNameList)\r\n        }\r\n        else {\r\n            return (<li></li>)\r\n        }\r\n    }\r\n    catch (e) {\r\n        const rulesIdList = rulesId.map(ruleId => {\r\n            return (<li key={ruleId}>{ruleId}</li>)\r\n        })\r\n        return rulesIdList\r\n    }\r\n\r\n}\r\n\r\nfunction DeviceDetails(props) {\r\n    const deviceId = props.antecedentId;\r\n    if (deviceId.includes(\"timer\")) {\r\n        var today = new Date();\r\n        const time = today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds();\r\n        return (\r\n            <ol>\r\n                <li key=\"type\">Type: sensor - timer</li>\r\n                <li key=\"id\">Id: {props.antecedentId}</li>\r\n                <li key=\"measure\">Measure: {time}</li>\r\n                <li key=\"rules\">Rules:</li>\r\n                <ul>\r\n                    {props.rulesName}\r\n                </ul>\r\n            </ol>\r\n        )\r\n\r\n    }\r\n    else if (deviceId.includes(\"PHOTOCELL\") || deviceId.includes(\"SOILMOISTURE\")) {\r\n        const setting = parseInt(props.antecedents[props.index].setting);\r\n        const measure = parseInt(props.antecedents[props.index].measure);\r\n        const measure_perc = ((measure * 100) / setting).toFixed(1)\r\n        return (\r\n            <ol>\r\n                <li key=\"type\">Type: sensor - {deviceId.includes(\"PHOTOCELL\") ? \"photocell\" : \"soil moisture\"}</li>\r\n                <li key=\"id\">Id: {props.antecedentId}</li>\r\n                <li key=\"measure\">Measure: {measure_perc} %</li>\r\n                <li key=\"rules\">Rules:</li>\r\n                <ul>\r\n                    {props.rulesName}\r\n                </ul>\r\n            </ol>\r\n\r\n        )\r\n\r\n    }\r\n    else if (deviceId.includes(\"WATERLEVEL\")) {\r\n        const setting = parseInt(props.antecedents[props.index].setting);\r\n        const measure = parseInt(props.antecedents[props.index].measure);\r\n        const measure_perc = ((measure * 100) / setting).toFixed(1)\r\n        return (\r\n            <ol>\r\n                <li key=\"type\">Type: sensor - water level</li>\r\n                <li key=\"id\">id: {props.antecedentId}</li>\r\n                <li key=\"measure\">measure: {measure_perc} %</li>\r\n                <li key=\"setting\">{props.modifyDevice ? ModifySetting(props) : \"Setting:\" + props.antecedents[props.index].setting}</li>\r\n                <li key=\"rules\">rules:</li>\r\n                <ul>\r\n                    {props.rulesName}\r\n                </ul>\r\n            </ol>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nfunction ModifyName(props, checkDeviceNameFunction) {\r\n    return (\r\n        <form name=\"ItemName\">\r\n            <label htmlFor=\"name\">Name: </label>\r\n            <input type=\"text\" id=\"name\" name=\"name\"\r\n                defaultValue={props.antecedentName}\r\n                onChange={(e) => {\r\n                    const NewName = e.target.value;\r\n                    var checkName = checkDeviceNameFunction(props.antecedents, NewName);\r\n                    if (!checkName) {\r\n                        props.modifyAntecedentName(NewName)\r\n                    }\r\n\r\n                }}\r\n            />\r\n        </form>\r\n    )\r\n}\r\n\r\nfunction ModifySetting(props) {\r\n    const index = props.antecedentIdx;\r\n    return (\r\n        <form name=\"ItemSetting\">\r\n            <label htmlFor=\"setting\">Setting: </label>\r\n            <input type=\"number\" id=\"setting\" name=\"setting\"\r\n                defaultValue={props.antecedents[index].setting}\r\n                onChange={(e) => {\r\n                    const newSetting = e.target.value;\r\n                    props.modifyAntecedentSetting(newSetting);\r\n                }}\r\n            />\r\n        </form>\r\n    )\r\n}","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nexport default class RegisterDeviceProcess extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            registerDeviceError: false,\r\n            newDeviceId: \"\"\r\n        }\r\n    }\r\n\r\n    CheckRegisterDeviceRecognition() {\r\n        const deviceId = this.state.newDeviceId\r\n        var deviceRecognition = false;\r\n        if (deviceId.includes(\"SWITCH\")) {\r\n            deviceRecognition = true;\r\n        }\r\n        else if (deviceId.includes(\"PHOTOCELL\")) {\r\n            deviceRecognition = true\r\n        }\r\n        else if (deviceId.includes(\"WATERLEVEL\")) {\r\n            deviceRecognition = true\r\n        }\r\n        else if (deviceId.includes(\"SOILMOISTURE\")) {\r\n            deviceRecognition = true\r\n        }\r\n        this.setState({registerDeviceError: !deviceRecognition}, ()=>{this.render()})\r\n        return deviceRecognition\r\n    }\r\n\r\n    NewDeviceIdRegistration(newDeviceId){\r\n        this.setState({\r\n            newDeviceId: newDeviceId\r\n        }, ()=>{this.render()})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal show={this.props.registerDevicePopUp} onHide={() => this.props.handleRegisterDevicePopUp()}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>ADD DEVICE</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"GenericModalBody\">\r\n                            <p style={{ display: this.state.registerDeviceError ? 'block' : 'none' }} > Error: device Id is not correct!</p>\r\n                            <form>\r\n                                <label htmlFor=\"deviceId\">DEVICE ID: </label>\r\n                                <input name=\"deviceId\" id=\"deviceId\" type=\"text\"\r\n                                    onChange={(e) => {\r\n                                        var newDeviceId = e.target.value;\r\n                                        this.NewDeviceIdRegistration(newDeviceId);\r\n                                    }}\r\n                                />\r\n                            </form>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <button onClick={() => {\r\n                            const checkRecognition = this.CheckRegisterDeviceRecognition();\r\n                            if (checkRecognition) {\r\n                                deviceInitialization(this.props, this.state.newDeviceId);\r\n                                this.props.handleRegisterDevicePopUp();\r\n                            }\r\n                        }}>\r\n                            NEXT\r\n                        </button>\r\n                        <button onClick={() => this.props.handleRegisterDevicePopUp()}>Close</button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction deviceInitialization(props, deviceId) {\r\n    var newDevice = null;\r\n    if (deviceId.includes(\"SWITCH\")) {\r\n        newDevice = { id: deviceId, name: \"switch\", measure: \"init\", rules: [] };\r\n        props.registerDeviceRequest(\"consequent\", newDevice);\r\n    }\r\n    else {\r\n        if (deviceId.includes(\"PHOTOCELL\")) {\r\n            newDevice = { id: deviceId, name: \"photocell\", setting: \"1024\", measure: \"init\", rules: [] };\r\n        }\r\n        else if (deviceId.includes(\"WATERLEVEL\")) {\r\n            newDevice = { id: deviceId, name: \"waterlevel\", setting: \"100\", measure: \"init\", rules: [] };\r\n        }\r\n        else if (deviceId.includes(\"SOILMOISTURE\")) {\r\n            newDevice = { id: deviceId, name: \"soilmoisture\", setting: \"1024\", measure: \"init\", rules: [] };\r\n        }\r\n        props.registerDeviceRequest(\"antecedent\", newDevice);\r\n    }\r\n}","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal'\r\n\r\nexport default class DeviceConsequentPopUp extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            checkDeviceName: false\r\n        }\r\n    }\r\n\r\n    checkDeviceNameFunction = (devices, newName) => {\r\n        var checkDeviceName = false;\r\n        if (devices.some(device => device.name === newName)) {\r\n            checkDeviceName = true;\r\n        }\r\n        this.setState({\r\n            checkDeviceName: checkDeviceName\r\n        }, () => { this.render() });\r\n\r\n        return checkDeviceName\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.props.consequents.length > 0) {\r\n            const index = this.props.consequentIdx;\r\n            var rulesName = GetRulesName(this.props);\r\n            return (\r\n                <Modal show={this.props.deviceConsequentPopUp} onHide={() => this.props.handleDeviceConsequentPopUp()}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>\r\n                            SWITCH\r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div>\r\n                            <p style={{ display: this.state.checkDeviceName ? 'block' : 'none' }}> Error: device name already exist! Choose another name.</p>\r\n                            <ol>\r\n                                <li key=\"name\">{this.props.modifyDevice ? ModifyName(this.props, this.checkDeviceNameFunction) : \"Name: \" + this.props.consequentName}</li>\r\n                                <li key=\"id\">id: {this.props.consequentId}</li>\r\n                                <li key=\"measure\">measure: {this.props.consequents[index].measure}</li>\r\n                                <li key=\"rules\">rules:</li>\r\n                                <ul>\r\n                                    {rulesName}\r\n                                </ul>\r\n                            </ol>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <button onClick={() => {\r\n                            this.props.getDeviceMeasureRequest(\"consequent\");\r\n                        }}>\r\n                            Refresh\r\n                        </button>\r\n                        <button onClick={() => {\r\n                            if (this.props.modifyDevice) {\r\n                                this.props.updateDeviceRequest(\"consequent\");\r\n                                this.props.handleModifyDevice();\r\n                            }\r\n                            else {\r\n                                this.props.handleModifyDevice();\r\n                            }\r\n                        }}>\r\n                            {this.props.modifyDevice ? 'Save' : 'Modify'}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => {\r\n                                if (this.props.modifyDevice) {\r\n                                    this.props.deleteDeviceRequest(\"consequent\");\r\n                                    this.props.handleModifyDevice();\r\n                                    this.props.handleDeviceConsequentPopUp();\r\n                                }\r\n                                else {\r\n                                    this.props.handleModifyDevice();\r\n                                    this.props.handleDeviceConsequentPopUp();\r\n                                }\r\n\r\n                            }}>\r\n                            {this.props.modifyDevice ? 'Delete' : 'Close'}\r\n                        </button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            )\r\n        }\r\n        else {\r\n            return (<div> </div>)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfunction GetRulesName(props) {\r\n    const index = props.consequentIdx;\r\n    const rulesId = props.consequents[index].rules;\r\n    try {\r\n        const rulesId = props.consequents[index].rules;\r\n        const rules = props.rules;\r\n        if (rulesId.length > 0 && rules.length > 0) {\r\n            const rulesIdList = rules.map(rule => { return rule.id });\r\n            const rulesNameList = rulesId.map(ruleId => {\r\n                var ruleIndex = rulesIdList.indexOf(ruleId);\r\n                return (<li key={ruleId}><button onClick={() => {\r\n                    props.setNewRule(ruleId, rules[ruleIndex].name, ruleIndex);\r\n                    props.handleDeviceConsequentPopUp();\r\n                    props.handleSetRulePopUp();\r\n                }}>\r\n                    {rules[ruleIndex].name}\r\n                </button>\r\n                </li>)\r\n            })\r\n            return (rulesNameList)\r\n        }\r\n        else {\r\n            return (<li></li>)\r\n        }\r\n    }\r\n    catch (e) {\r\n        const rulesIdList = rulesId.map(ruleId => {\r\n            return (<li key={ruleId}>{ruleId}</li>)\r\n        })\r\n        return rulesIdList\r\n    }\r\n\r\n}\r\n\r\nfunction ModifyName(props, checkDeviceNameFunction) {\r\n    return (\r\n        <form name=\"ItemName\">\r\n            <label htmlFor=\"name\">Name: </label>\r\n            <input type=\"text\" id=\"name\" name=\"name\"\r\n                defaultValue={props.consequentName}\r\n                onChange={(e) => {\r\n                    const NewName = e.target.value;\r\n                    var checkName = checkDeviceNameFunction(props.consequents, NewName);\r\n                    if (!checkName) {\r\n                        props.modifyConsequentName(NewName)\r\n                    }\r\n                }}\r\n            />\r\n        </form>\r\n    )\r\n}","import React from 'react';\nimport axios from 'axios';\nimport Modal from 'react-bootstrap/Modal'\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport CreateRuleProcess from './CreateRuleProcess'\nimport SetRuleProcess from './SetRuleProcess'\nimport AddRuleConsequentProcess from './AddRuleConsequentProcess'\nimport AddRuleAntecedentProcess from './AddRuleAntecedentProcess'\nimport ViewRules from './ViewRules'\nimport ViewAntecedents from './ViewAntecedents'\nimport ViewConsequents from './ViewConsequents'\nimport DeviceAntecedentPopUp from './DeviceAntecedentPopUp'\nimport RegisterDeviceProcess from './RegisterDeviceProcess'\nimport DeviceConsequentPopUp from './DeviceConsequentPopUp'\nimport { Redirect } from 'react-router-dom';\n\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    axios.defaults.headers.common['Authorization'] = this.props.idToken;\n    this.state = {\n      menuPopUp: false,\n      AddRulePopUp: false,\n      setRulePopUp: false,\n      addRuleAntecedentPopUp: false,\n      addRuleConsequentPopUp: false,\n      registerDevicePopUp: false,\n\n      newRuleId: 0,\n      newRuleIdx: 0,\n      newRuleName: \"\",\n      modify: false,\n\n      deviceAntecedentPopUp: false,\n      antecedentId: \"\",\n      antecedentName: \"\",\n      antecedentIdx: 0,\n\n      deviceConsequentPopUp: false,\n      consequentId: \"\",\n      consequentName: \"\",\n      consequentIdx: 0,\n\n      modifyDevice: false,\n\n      antecedents: [],\n      consequents: [],\n      rules: [],\n      allDeviceId: [],\n\n      logout: false,\n      \n\n    }\n  }\n\n  componentDidMount() {\n    this.getAntecedents();\n    this.getConsequents();\n    this.getRules();\n  }\n\n  //GET ALL\n  getAllDeviceIdRegistered = () => {\n    console.log('App GET all devices ID registered');\n    const url = process.env.REACT_APP_BACKEND_URL + \"/device/get/all\";\n    axios.get(url)\n      .then(res => {\n        const data = res.data;\n        this.setState({ allDeviceId: data }, () => { this.render() })\n      })\n      .catch(err => console.warn(err));\n  }\n\n\n  //GET BY USER\n  getAntecedents = () => {\n    console.log('App GET antecedent By User');\n    const url = process.env.REACT_APP_BACKEND_URL + \"/device/get/antecedents\";\n    axios.get(url, {}, {params:{user_id: this.props.user_id}})\n      .then(res => {\n        const data = res.data;\n        this.setState({ antecedents: data }, () => { this.render() });\n\n      })\n      .catch(err => console.warn(err));\n  }\n  getConsequents = () => {\n    console.log('App GET consequents By User');\n    const url = process.env.REACT_APP_BACKEND_URL + \"/device/get/consequents\";\n    axios.get(url, {}, {params:{user_id: this.props.user_id}})\n      .then(res => {\n        const data = res.data;\n        this.setState({ consequents: data }, () => { this.render() });\n      })\n      .catch(err => console.warn(err));\n  }\n  getRules = () => {\n    console.log('App GET Rules by user');\n    const url = process.env.REACT_APP_BACKEND_URL + \"/rule/user\";\n    axios.get(url, {}, {params:{user_id: this.props.user_id}})\n      .then(res => {\n        const data = res.data;\n        this.setState({ rules: data }, () => { this.render() });\n      })\n      .catch(err => console.warn(err));\n  }\n\n  //GET BY ID\n  getAntecedentById = (antecedentId) => {\n    console.log('App GET antecedent By Id');\n    const url = process.env.REACT_APP_BACKEND_URL + \"/device/antecedent/id/\" + antecedentId;\n    axios.get(url)\n      .then(res => {\n        const newAntecedent = res.data;\n        const idx = this.state.antecedentIdx;\n        var antecedents = this.state.antecedents;\n        antecedents[idx] = newAntecedent;\n        this.setState({ antecedents: antecedents }, () => { this.render() });\n      })\n  }\n  getConsequentById = (consequentId) => {\n    console.log('App GET consequent By Id');\n    const url = process.env.REACT_APP_BACKEND_URL + \"/device/consequent/id/\" + consequentId;\n    axios.get(url)\n      .then(res => {\n        const newConsequent = res.data;\n        var consequents = this.state.consequents;\n        const consequentIdx = this.state.consequentIdx;\n        consequents[consequentIdx] = newConsequent;\n        this.setState({ consequents: consequents }, () => { this.render() });\n      })\n  }\n  getRuleById = (ruleId) => {\n    console.log('App GET Rule By ID');\n    const url = process.env.REACT_APP_BACKEND_URL + \"/rule/id/\" + ruleId;\n    axios.get(url, {}, {params:{user_id: this.props.user_id}})\n      .then(res => {\n        const newRule = res.data;\n        var rules = this.state.rules;\n        const idx = this.state.newRuleIdx;\n        rules[idx] = newRule;\n        this.setState({ rules: rules }, () => { this.render() });\n      })\n      .catch(err => console.warn(err));\n  }\n  getDeviceMeasureRequest = (type) => {\n    console.log('App GET device measure');\n    if (type === \"antecedent\") {\n      const url = process.env.REACT_APP_BACKEND_URL + \"/device/measure/\" + this.state.antecedentId;\n      axios.get(url)\n        .then(res => {\n          const newMeasure = res.data;\n          const index = this.state.antecedentIdx;\n          var antecedents = this.state.antecedents;\n          antecedents[index].measure = newMeasure;\n          this.setState({ antecedents: antecedents }, () => { this.render() });\n        })\n    }\n  }\n\n  //ADD and UPDATE ELEMENTS\n  createRuleRequest = (rule_name) => {\n    console.log('App POST create rule');\n    const url = process.env.REACT_APP_BACKEND_URL + \"/rule/create/\" + rule_name;\n    axios.post(url,{}, {params:{user_id: this.props.user_id}})\n      .then(res => {\n        const ruleId = res.data;\n        const newRule = { id: ruleId, name: rule_name, antecedent: [], consequent: [] };\n        var rules = this.state.rules;\n        var idx = rules.length;\n        const newRulesList = rules.concat([newRule])\n        this.setState({\n          rules: newRulesList,\n          newRuleIdx: idx,\n          newRuleId: ruleId,\n          newRuleName: rule_name\n        }, () => {\n          this.render();\n          this.handleAddRulePopUp();\n          this.handleSetRulePopUp();\n        })\n      }).catch(err => console.warn(err));\n  }\n  setRuleAntecedentRequest = (newAntecedent) => {\n    console.log(\"App POST new rule antecedent\");\n    const url = process.env.REACT_APP_BACKEND_URL + \"/rule/set/antecedent\";\n    axios.post(url, {}, {\n      params: {\n        user_id: this.props.user_id,\n        rule_id: this.state.newRuleId,\n        device_id: newAntecedent.device_id,\n        start_value: newAntecedent.start_value,\n        stop_value: newAntecedent.stop_value,\n        condition: newAntecedent.condition\n      }\n    })\n      .catch(err => console.warn(err));\n  }\n  setRuleConsequentRequest = (newConsequent) => {\n    console.log(\"App POST new rule consequent\");\n    const url = process.env.REACT_APP_BACKEND_URL + \"/rule/set/consequent\";\n    axios.post(url, {}, {\n      params: {\n        user_id: this.props.user_id,\n        rule_id: this.state.newRuleId,\n        device_id: newConsequent.device_id,\n      }\n    })\n      .catch(err => console.warn(err));\n  }\n  updateDeviceRequest = (type) => {\n    console.log(\"App POST update device\");\n    var deviceId = \"\";\n    var device_name = \"\";\n    var setting = 0;\n    if (type === \"antecedent\") {\n      const index = this.state.antecedentIdx;\n      deviceId = this.state.antecedentId;\n      device_name = this.state.antecedentName;\n      setting = this.state.antecedents[index].setting;\n    }\n    else {\n      deviceId = this.state.consequentId;\n      device_name = this.state.consequentName;\n      setting = \"\";\n    }\n    const url = process.env.REACT_APP_BACKEND_URL + \"/device/update\";\n    axios.post(url, {}, {\n      params: {\n        user_id: this.props.user_id,\n        device_id: deviceId,\n        device_name: device_name,\n        setting: setting\n      }\n    }).catch(err => console.warn(err));\n\n  }\n  registerDeviceRequest = (type, newDevice) => {\n    console.log(\"App POST register device\");\n    const url = process.env.REACT_APP_BACKEND_URL + \"/device/register\";\n    axios.post(url, {}, {\n      params: {\n        device_id: newDevice.id,\n        device_name: newDevice.name,\n        user_id: this.props.user_id\n      }\n    }).catch(err => console.warn(err));\n    this.registerNewDeviceLocal(type, newDevice);\n  }\n  registerNewDeviceLocal = (type, newDevice) => {\n    if (type === \"antecedent\") {\n      var newAntecedents = this.state.antecedents;\n      const newIndex = newAntecedents.length;\n      this.setState({\n        antecedents: newAntecedents.concat([newDevice]),\n        antecedentId: newDevice.id,\n        antecedentName: newDevice.name,\n        antecedentIdx: newIndex,\n        modifyDevice: true,\n      },\n        () => {\n          this.render();\n          this.handleDeviceAntecedentPopUp();\n        })\n    }\n    else {\n      var newConsequents = this.state.consequents;\n      const newIndex = newConsequents.length;\n      this.setState({\n        consequents: newConsequents.concat([newDevice]),\n        consequentId: newDevice.id,\n        consequentName: newDevice.name,\n        consequentIdx: newIndex,\n        modifyDevice: true,\n      },\n        () => {\n          this.render();\n          this.handleDeviceConsequentPopUp();\n        })\n    }\n  }\n  updateRuleName = () => {\n    console.log(\"App POST update rule name\")\n    const url = process.env.REACT_APP_BACKEND_URL + \"/rule/set/name\";\n    axios.post(url, {}, {\n      params: {\n        user_id: this.props.user_id,\n        rule_id: this.state.newRuleId,\n        rule_name: this.state.newRuleName\n      }\n    }).catch(err => console.warn(err));\n  }\n\n  // REMOVE ELEMENT FROM ARRAYS\n  deleteRuleRequest = (ruleId, ruleIdx) => {\n    console.log(\"App DELETE rule\")\n    const url = process.env.REACT_APP_BACKEND_URL + \"/rule/delete/\" + ruleId;\n    axios.delete(url, {}, {params:{user_id: this.props.user_id}}).catch(err => console.warn(err));\n    var NewRules = this.state.rules;\n    NewRules.splice(ruleIdx, 1)\n    this.setState({ rules: NewRules, newRuleIdx: 0 }, () => {\n      this.render()\n    })\n  }\n  deleteRuleConsequentRequest = (ruleId, deviceId) => {\n    console.log(\"App DELETE rule consequent\")\n    const url = process.env.REACT_APP_BACKEND_URL + \"/rule/delete/consequent/\" + ruleId + \"/\" + deviceId;\n    axios.delete(url, {}, {params:{user_id: this.props.user_id}}).catch(err => console.warn(err));\n    this.deleteRuleConsequentLocal(ruleId, deviceId)\n  }\n  deleteRuleConsequentLocal = (deviceId) => {\n    var rules = this.state.rules;\n    const idx_rule = this.state.newRuleIdx\n    var rule_consequent = rules[idx_rule].consequent\n    const idx_consequent = rule_consequent.indexOf(deviceId)\n    rules[idx_rule].consequent.splice(idx_consequent, 1);\n    this.setState({ rules: rules }, () => { this.render() });\n  }\n  deleteRuleAntecedentRequest = (ruleId, deviceId) => {\n    console.log(\"App DELETE rule antecedent\")\n    const url = process.env.REACT_APP_BACKEND_URL + \"/rule/delete/antecedent/\" + ruleId + \"/\" + deviceId;\n    axios.delete(url, {}, {params:{user_id: this.props.user_id}})\n      .catch(err => console.warn(err));\n    this.deleteRuleAntecedentLocal(deviceId)\n  }\n  deleteRuleAntecedentLocal = (deviceId) => {\n    var rules = this.state.rules;\n    const idx_rule = this.state.newRuleIdx\n    var rule_antecedent = rules[idx_rule].antecedent\n    const idx_antecedent = rule_antecedent.indexOf(deviceId)\n    rules[idx_rule].antecedent.splice(idx_antecedent, 1);\n    this.setState({ rules: rules }, () => { this.render() });\n  }\n  deleteDeviceRequest = (type) => {\n    console.log(\"App DELETE device\")\n    if (type === \"antecedent\") {\n      const url = process.env.REACT_APP_BACKEND_URL + \"/device/delete/\" + this.state.antecedentId;\n      var antecedents = this.state.antecedents;\n      const index = this.state.antecedentIdx;\n      antecedents.splice(index, 1);\n      axios.delete(url,{}, {params:{user_id: this.props.user_id}})\n        .then(this.setState({ antecedentIdx: 0, antecedents: antecedents }, () => { this.render() }))\n        .catch(err => console.warn(err));\n\n    }\n    else {\n      const url = process.env.REACT_APP_BACKEND_URL + \"/device/delete/\" + this.state.consequentId;\n      const index = this.state.consequentIdx;\n      var consequents = this.state.consequents;\n      consequents.splice(index, 1)\n      axios.delete(url, {}, {params:{user_id: this.props.user_id}})\n        .then(this.setState({ consequentIdx: 0, consequents: consequents }, () => { this.render() }))\n        .catch(err => console.warn(err));\n\n    }\n  }\n\n\n  //MODIFY AND SET RULE LOCAL\n  modifyRuleName = (newRuleName) => {\n    var rules = this.state.rules;\n    const index = this.state.newRuleIdx;\n    rules[index].name = newRuleName;\n    this.setState({\n      rules: rules,\n      newRuleName: newRuleName\n    }, () => { this.render() })\n  }\n  setConsequentRuleLocal = (newRuleIdx, newConsequent) => {\n    var rulesList = this.state.rules;\n    rulesList[newRuleIdx].consequent.push(newConsequent);\n    this.setState({ rules: rulesList }, () => {\n      this.render();\n      this.handleAddRuleConsequentPopUp();\n      this.handleSetRulePopUp();\n    });\n  }\n  setAntecedentRuleLocal = (newRuleIdx, newAntecedent) => {\n    var rulesList = this.state.rules;\n    rulesList[newRuleIdx].antecedent.push(newAntecedent);\n    this.setState({ rules: rulesList }, () => {\n      this.render();\n      this.handleAddRuleAntecedentPopUp();\n      this.handleSetRulePopUp();\n    });\n  }\n  setNewRuleCondition = (ruleIdx, index, newCondition) => {\n    const rules = this.state.rules;\n    rules[ruleIdx].antecedent[index].condition = newCondition;\n    if (newCondition === \"between\") {\n      rules[ruleIdx].antecedent[index].stop_value = rules[ruleIdx].antecedent[index].start_value;\n    }\n    else {\n      rules[ruleIdx].antecedent[index].stop_value = \"//\";\n    }\n    this.setState({ rules: rules }, () => { this.render() });\n  }\n  setNewStartValue = (ruleIdx, index, newStart) => {\n    const rules = this.state.rules;\n    rules[ruleIdx].antecedent[index].start_value = newStart;\n    this.setState({ rules: rules }, () => { this.render() });\n  }\n  setNewStopValue = (ruleIdx, index, newStop) => {\n    const rules = this.state.rules;\n    rules[ruleIdx].antecedent[index].stop_value = newStop;\n    this.setState({ rules: rules }, () => { this.render() });\n  }\n\n  //MODIFY DEVICES LOCAL\n  modifyAntecedentSetting = (newSetting) => {\n    var antecendents = this.state.antecedents;\n    const index = this.state.antecedentIdx;\n    antecendents[index].setting = newSetting;\n    this.setState({ antecendents: antecendents }, () => {\n      this.render()\n    })\n  }\n  modifyAntecedentName = (newName) => {\n    var antecendents = this.state.antecedents;\n    const index = this.state.antecedentIdx;\n    antecendents[index].name = newName;\n    this.setState({ antecendents: antecendents, antecedentName: newName }, () => {\n      this.render()\n    })\n  }\n  modifyConsequentName = (newName) => {\n    var consequents = this.state.consequents;\n    const index = this.state.consequentIdx;\n    consequents[index].name = newName;\n    this.setState({ consequents: consequents, consequentName: newName }, () => {\n      this.render()\n    })\n  }\n\n  // CURRENT SELECTED ITEM VARIABLES\n  setNewRule = (ruleId, ruleName, ruleIdx) => {\n    this.setState({\n      newRuleIdx: ruleIdx,\n      newRuleId: ruleId,\n      newRuleName: ruleName\n    }, () => { this.render() })\n  }\n  setNewAntecedent = (antecedentId, antecedentName, antecedentIdx) => {\n    this.setState({\n      antecedentId: antecedentId,\n      antecedentName: antecedentName,\n      antecedentIdx: antecedentIdx\n    }, () => { this.render() })\n  }\n  setNewConsequent = (consequentId, consequentName, consequentIdx) => {\n    this.setState({\n      consequentId: consequentId,\n      consequentName: consequentName,\n      consequentIdx: consequentIdx\n    }, () => { this.render() })\n  }\n\n\n\n\n  handleMenuPopUp = () => {\n    this.setState({\n      menuPopUp: !this.state.menuPopUp\n    })\n  }\n  handleAddRulePopUp = () => {\n    this.setState({\n      AddRulePopUp: !this.state.AddRulePopUp\n    })\n  }\n  handleSetRulePopUp = () => {\n    this.setState({\n      setRulePopUp: !this.state.setRulePopUp\n    })\n  }\n  handleModify = () => {\n    this.setState({\n      modify: !this.state.modify\n    })\n  }\n  handleModifyDevice = () => {\n    this.setState({\n      modifyDevice: !this.state.modifyDevice\n    })\n  }\n  handleAddRuleAntecedentPopUp = () => {\n    this.setState({ addRuleAntecedentPopUp: !this.state.addRuleAntecedentPopUp })\n  }\n  handleAddRuleConsequentPopUp = () => {\n    this.setState({ addRuleConsequentPopUp: !this.state.addRuleConsequentPopUp })\n  }\n  handleRegisterDevicePopUp = () => {\n    this.setState({ registerDevicePopUp: !this.state.registerDevicePopUp })\n  }\n  handleDeviceAntecedentPopUp = () => {\n    this.setState({ deviceAntecedentPopUp: !this.state.deviceAntecedentPopUp })\n  }\n  handleDeviceConsequentPopUp = () => {\n    this.setState({ deviceConsequentPopUp: !this.state.deviceConsequentPopUp })\n  }\n  handleLogOut = () => {\n    this.setState({ logout: true }, () => { this.render() });\n  }\n\n\n\n\n\n  render() {\n    if (this.state.logout) {\n      return (\n        <Redirect to={process.env.REACT_APP_LOGIN_URL} />\n      )\n    }\n    else {\n      return (\n        <div className=\"App\">\n          <div className=\"TopBar\">\n            <div className=\"TopBarElement\">\n              Welcome {this.props.user_name}\n            </div>\n            <div className=\"TopBarButtonMenu\">\n              <button onClick={() => { this.handleMenuPopUp() }}>MENU</button>\n            </div>\n            <ButtonMenu\n              menuPopUp={this.state.menuPopUp}\n              handleMenuPopUp={this.handleMenuPopUp}\n              handleAddRulePopUp={this.handleAddRulePopUp}\n              handleRegisterDevicePopUp={this.handleRegisterDevicePopUp}\n              handleModify={this.handleModify}\n              handleLogOut={this.handleLogOut}\n            />\n            <CreateRuleProcess\n              AddRulePopUp={this.state.AddRulePopUp}\n              rules={this.state.rules}\n              user_id={this.props.user_id}\n              base_url={process.env.REACT_APP_BACKEND_URL}\n              handleAddRulePopUp={this.handleAddRulePopUp}\n              createRuleRequest={this.createRuleRequest}\n            />\n            <SetRuleProcess\n              setRulePopUp={this.state.setRulePopUp}\n              handleSetRulePopUp={this.handleSetRulePopUp}\n              rules={this.state.rules}\n              newRuleIdx={this.state.newRuleIdx}\n              newRuleId={this.state.newRuleId}\n              newRuleName={this.state.newRuleName}\n              deleteRuleConsequentRequest={this.deleteRuleConsequentRequest}\n              deleteRuleAntecedentRequest={this.deleteRuleAntecedentRequest}\n              handleModify={this.handleModify}\n              modify={this.state.modify}\n              setNewRuleCondition={this.setNewRuleCondition}\n              setNewStartValue={this.setNewStartValue}\n              setNewStopValue={this.setNewStopValue}\n              handleAddRuleAntecedentPopUp={this.handleAddRuleAntecedentPopUp}\n              handleAddRuleConsequentPopUp={this.handleAddRuleConsequentPopUp}\n              setRuleAntecedentRequest={this.setRuleAntecedentRequest}\n              setRuleConsequentRequest={this.setRuleConsequentRequest}\n              deleteRuleRequest={this.deleteRuleRequest}\n              modifyRuleName={this.modifyRuleName}\n              updateRuleName={this.updateRuleName}\n            />\n            <AddRuleConsequentProcess\n              addRuleConsequentPopUp={this.state.addRuleConsequentPopUp}\n              handleSetRulePopUp={this.handleSetRulePopUp}\n              handleAddRuleConsequentPopUp={this.handleAddRuleConsequentPopUp}\n              newRuleIdx={this.state.newRuleIdx}\n              rules={this.state.rules}\n              consequents={this.state.consequents}\n              setConsequentRuleLocal={this.setConsequentRuleLocal}\n            />\n            <AddRuleAntecedentProcess\n              addRuleAntecedentPopUp={this.state.addRuleAntecedentPopUp}\n              handleSetRulePopUp={this.handleSetRulePopUp}\n              handleAddRuleAntecedentPopUp={this.handleAddRuleAntecedentPopUp}\n              newRuleIdx={this.state.newRuleIdx}\n              rules={this.state.rules}\n              antecedents={this.state.antecedents}\n              setAntecedentRuleLocal={this.setAntecedentRuleLocal}\n            />\n            <RegisterDeviceProcess\n              registerDevicePopUp={this.state.registerDevicePopUp}\n              handleRegisterDevicePopUp={this.handleRegisterDevicePopUp}\n              registerDeviceRequest={this.registerDeviceRequest}\n            />\n            <DeviceAntecedentPopUp\n              rules={this.state.rules}\n              deviceAntecedentPopUp={this.state.deviceAntecedentPopUp}\n              handleDeviceAntecedentPopUp={this.handleDeviceAntecedentPopUp}\n              modifyDevice={this.state.modifyDevice}\n              handleModifyDevice={this.handleModifyDevice}\n              antecedents={this.state.antecedents}\n              antecedentId={this.state.antecedentId}\n              antecedentName={this.state.antecedentName}\n              antecedentIdx={this.state.antecedentIdx}\n              setNewAntecedent={this.setNewAntecedent}\n              modifyAntecedentSetting={this.modifyAntecedentSetting}\n              updateDeviceRequest={this.updateDeviceRequest}\n              deleteDeviceRequest={this.deleteDeviceRequest}\n              getDeviceMeasureRequest={this.getDeviceMeasureRequest}\n              modifyAntecedentName={this.modifyAntecedentName}\n              setNewRule={this.setNewRule}\n              handleSetRulePopUp={this.handleSetRulePopUp}\n            />\n\n            <DeviceConsequentPopUp\n              rules={this.state.rules}\n              consequents={this.state.consequents}\n              consequentId={this.state.consequentId}\n              consequentName={this.state.consequentName}\n              consequentIdx={this.state.consequentIdx}\n              setNewConsequent={this.setNewConsequent}\n              handleDeviceConsequentPopUp={this.handleDeviceConsequentPopUp}\n              deviceConsequentPopUp={this.state.deviceConsequentPopUp}\n              modifyDevice={this.state.modifyDevice}\n              handleModifyDevice={this.handleModifyDevice}\n              updateDeviceRequest={this.updateDeviceRequest}\n              deleteDeviceRequest={this.deleteDeviceRequest}\n              getDeviceMeasureRequest={this.getDeviceMeasureRequest}\n              modifyConsequentName={this.modifyConsequentName}\n              setNewRule={this.setNewRule}\n              handleSetRulePopUp={this.handleSetRulePopUp}\n            />\n\n\n          </div>\n          <ViewAntecedents\n            antecedents={this.state.antecedents}\n            handleDeviceAntecedentPopUp={this.handleDeviceAntecedentPopUp}\n            setNewAntecedent={this.setNewAntecedent}\n            getAntecedentById={this.getAntecedentById}\n          />\n          <ViewRules\n            handleSetRulePopUp={this.handleSetRulePopUp}\n            rules={this.state.rules}\n            setNewRule={this.setNewRule}\n            getRuleById={this.getRuleById}\n          />\n          <ViewConsequents\n            consequents={this.state.consequents}\n            handleDeviceConsequentPopUp={this.handleDeviceConsequentPopUp}\n            setNewConsequent={this.setNewConsequent}\n            getConsequentById={this.getConsequentById}\n          />\n\n\n\n        </div>\n      );\n    }\n  }\n}\n\nfunction ButtonMenu(props) {\n  return (\n    <Modal show={props.menuPopUp} onHide={() => props.handleMenuPopUp()}>\n      <Modal.Header closeButton>\n        <Modal.Title>\"MENU\"</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"MenuPopUp\">\n          <button onClick={() => {\n            props.handleMenuPopUp();\n            props.handleRegisterDevicePopUp();\n          }}>\n            ADD DEVICE\n          </button>\n          <br></br>\n          <button onClick={() => {\n            props.handleMenuPopUp();\n            props.handleAddRulePopUp();\n            props.handleModify()\n          }}>\n            ADD RULE\n            </button>\n          <br></br>\n          <button\n            onClick={() => {\n              props.handleLogOut();\n            }}\n          >\n            LOGOUT\n            </button>\n        </div>\n      </Modal.Body>\n      <Modal.Footer>\n        <button onClick={() => props.handleMenuPopUp()}>Close</button>\n      </Modal.Footer>\n    </Modal>\n  )\n}\n\n","import React from \"react\";\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    useLocation\r\n} from \"react-router-dom\";\r\nimport UserAccessProcess from \"./UserAccessProcess\";\r\nimport App from './App'\r\n\r\n\r\nexport default class Main extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <Switch>\r\n                    <PrivateRoute\r\n                        path={process.env.REACT_APP_PROTECTED_URL}\r\n\r\n\r\n                    />\r\n                    <UserAccessProcess\r\n                        path={process.env.REACT_APP_LOGIN_URL}\r\n\r\n                    />\r\n\r\n                </Switch>\r\n            </Router>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nfunction PrivateRoute(props) {\r\n    let query = new URLSearchParams(useLocation().search);\r\n    const user_name = query.get(\"userName\")\r\n    const idToken = query.get(\"idToken\")\r\n    return (\r\n        <App\r\n            idToken={idToken}\r\n            user_name={user_name}\r\n            user_id=\"user\"\r\n        />\r\n    )\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './App.css';\nimport Main from './Main'\n\n\nReactDOM.render(\n  <Main/>,\n\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}